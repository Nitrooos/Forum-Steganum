language: node_js
node_js:
- '0.10'
sudo: required
script:
- meteor run --test
- cd .gulp && gulp
before_script:
- sudo apt-get install expect
- cd .gulp
- npm install
- cd ../
- curl https://install.meteor.com/ | sh
after_success:
- cd ../
- "expect deploy.exp"
- "sleep 5" #Sleep is to make sure meteor is done deploying
- npm install codeclimate-test-reporter && codeclimate-test-reporter < tests/coverage/phantomjs/lcov.info
addons:
  code_climate:
    repo_token: 6ca72ca29fad172c4217d0f11b5254e433ac548258b4508c20b7db49b1e09d14
services:
- mongodb
notifications:
  email:
  - secure: cSdAeviFjI++2nrrbySSTQh1OdYldpFdDZHnBhZNumDYnIfaY7sqDobNp5eMWA4LxmWpjxHtMOc9LlMndmI5LuPcYSSI3VxfCu3uGcgB6gBOAdfQLxMNJ+O8661hQAAXQpv2CO1hcMMjKMHeoMndp06v+eQx/QhaixxnQA3DnAgWJsjd2A1KdvXMXf3BgDnrfjUc4Y3+Uinf+Q95mK3QefKoRa26DFs3SQqLHhmWCNtkOAt6R187Otaqpb5R9B8GAGesWegucbptZbuhBXz6D0C+idrydY0XS688mbjFRqgRctjLZDhd5wdN7+y/JMHEtCKB1rdbuKjFn4ARE6USAKYzPJc5Rb24+F/hHcXa/3pmOV8eviEWluzp8/P8f1LbIWc59wIygI++Z0oYe6F/IYE6PU7xMSDTq1tpsVkASI6/upDctf/8pQMsOXpgIeT6SC9MU2yQB65iB9FLsd7ZmYkVbTVJ7loDxpLHVfvyFcTZpTw8+k6M+1fjiJMWmIPp5k7/HtmU5webEjTwuXMcDwN+u7x6dE7Fdn2u9ByTngp+f7y7dS9vErJh6sSI5g/305gvijcnbOBzmBiLZ57r8EdS8JTTR07b6RomJjR7hRf43LrQ5x9xBSHlfWGVeTKWIU71NjKjVCW7JQRuF+kjZIwBTWNyhKByL9H6wUl7WWo=
  - secure: wuJUHe2KFYeCP69WQHNkXn35rynPu/M3tbegu0X0xvBMGpQz4abCF1mG+2mWw4HM7gzOgDQhflFm9U7UyGzHG1sbP8C7M2WrMJBJJhiftt+02bghH8skct2BjKepA9URcR4ZtPZUWJwkRlkg9wlIcIf++P4eWecy5bBPcal4wC0J6s/JwmH760Ur0A2pegVNFspMCxCaLSh8VmkNHVVBs0d8QqKqwn3R7NaVg4DElJ69mt27rvQTFrTSMoSrQnQQtqPBOb+7VdA8P/743ZtDXcSQeWuxyvkwTc32PLXN2bNDk1gWVbuRuiCEKiuxMsg3dULafreJkV5FdakzGI3dkHhuYdxigexlCFkyJ070IXFY79lklydqg7oNeIfWiLvRo/7aZiickYfRth0tiTcQlnsx6jn/IUNoKPx7mGppcrvq3rKPuTd/cXN6aLNh9RK6b2vQrUeDW3IRGTOZCWDgjCkdQ9iW+22cqJj546OQtX/WhLkMvbmVwQsDicSyCPE+2EPXfEeW4U6zJ7lbQg13ZrZenuxtdaLReFXXaV+cSoCoblVRejPDvcaXScoJ567L7xT9BiRaxI4LkhqTDrvUFQ4pEYl2CIN4PJt3kJWVfrwhfLOliB6XhsG8ZScJUu2GRcs32tPZL5Hu1jN9D7A+1e0aPCRwfV0fnZEBZ2ugqGg=
  webhooks: https://supergrupa-forum-steganum.getbadges.io/api/app/webhook/efcd5254-c156-423d-a6d6-e31102f76dc4
branches:
  only:
  - master
  - develop
env:
  global:
  - secure: IcaK/0hISy1+4+UUN+hnJK22bMaKZ8OAurSDrNzMrvlcEUwIOnttOMiz73BCzOTWUB0v9DxL4y5UvSKr+f4d6oQ5PZhMordm10W1E7KswZrurXBtkbNxdVePiJIgPD/BS27dQ9p5gh3vnlLQprysKYqzUsrgz/k1LAozDALaw0FTZ2KE2MhkyZ3VXgFEG0Ya+okjP8b/5UYxZvxGv2Td5MnLEMoXNhXHZGYAzdjCpTQSklgFyfXIVXuDWJ6VNwmbKb6LiPnj9Cq7ff7dzmNzxYDLFkLt1aT0HWW8eISiPW1zRx7RtfdGtRFA4Iv7dBfcTlDPZfZKPnTj91IME2/W0ocegvvFZ1hx8jgtGmRUvWayyiArKG1JEVsx8aR53Gl3qOpF6mkqvi+gbxvKUeQ1pUWFZz5WoX2+oL0ZkXU3zZxMhGAwvjaMuWL+kcKT4Mx8uW6pOMntZu1c9Kh+uEkvbw/wmYKpLZ/C9nfCdKGtUPJaxXnb7kJZQYtPRvsX98lxQnenoWah8B7sF8mKOKhockCZeR39eudmz69cxMZuVzptUmSZbCLbe2r085p1uT0WSVrAgeJ5xE12lwbxy1pYajjJU5uRcB8e9L4HB5SCx8aAlvbSWeyMw9O7qgiFGwdN91FL7iB2e7nBSZ2f8zrTHX0zfKagRNwzlm8RnCx8tUk=
  - secure: hKbhVXw0c1PnyZmbOfwUjAhA9rcwDEgCScIQIq1P1OJUUWBGAelWxq/pT0LtLWOHmXsbhMr2iczGbiaRqcrU4kW2ACSaVckKfz2FL4X0Sy7P7bnVMGGpTN6gMVAHWTFej68LRYfBigOUwv8iybf+g1T5/PDu7B9k7mykEmOM54iim0k+lDl9npE9K+WFg6De/qYVhoys3SMqyAzEYT/q0XhMBjDuAlqAVB93A+s77khu8jmpu0DRSIeuCP+hMwtPxGOjEEyHwDuDMtc6HUneHN2kBQ8uibtJUKSsC+HjBtnmkhQDweqkBFpW2zjEcDIjg7+kTs16Ygrt2orJAQJEOOmRHhH8efhqEoo9MEZQcbBsEznYfZ0W1JRmaYI+XhWTVqpPKCBEIvcWD5XPUuDwwVGQhzw7y1FECNTqaUUeeTt/Bne4i+vmHvv0V1Zf/X+QV0RY7qTnePz+dcHEY6TNtG2RKSNjwuh+ODepxGdZe83PUKAHnYatVrDX7xifv1MVN4KG6j5nP0hTeW6fqagF7vW7k8HvIIEVw4LAIEL64ljsEJhU3Llho7c/ctNgVEYoafi9kf1hx3yEfLlPD06qp1mzucm+bgFx2TA1bjskLUI5xbxg+ccIBEVmj5x0BOfKmsGv1PC4/BIjkAiPNSrCaRjj2Am92ddG9U/v/6Srzd4=
  - secure: F6J/ZpnR4V9QrdJcp9iUBb0aDRvIbM5outmMl3aWgWbBEkSQFfBrnrcnXx8rijiOAlAkTHQyFvvGVZvIeVuJCV0ogOY+yMF0N3pk7tW94THhl3X0S+Av8itgh42Jopve+3ermgYkUi4wSv7eHxWb5mb1fhpHbJAz03MAUTSJO6lD+GoT/ClmrVIaOsWnBMFJMxI7FXtB+yOJoCZb/tP6V0F75hWiCjFNw/ORfdqhUOTSGnO2++iJUXrzbQry/xvIP0roW1qFoO28lYd3G2JTYFVYnbrxEoygFDkBb41hdcGbmC+9OVzZxwgPJVDbq0qvgSkhkG+a4gLG6RyX83pKoUpOwyZ0JRKrVGOvoDH2TMrm1srOtxqhwoeLZF1+T005VDS5X8ZFiPD4ToP/NF/AeWJkKKgm/1P4fas7aYqf7MM7V0WFT6baJOMIB71YNhTibI0md712bRuhvLeqTZqyi6AB+GtNsPz8rZJXGqVmPsTgvvGYPgw9LhFRpzLCRT8VEF2lcDwVPscBUqZLwV3XbXh6xIAjuA9XmhbNK4rlqK+FIFdLnzqRqkGkhW7i8Ke5OC92zA8JQlRKSnSV1wg55idzyIHt5zivduo605u+IdV4RkRc2o4SKHZfWtZV5qHp9LpDSo7huT3MoZeOBHp/nKQxt8H/PuoFEgmfHWKKpBk=
  - secure: VQASt+ZSFCddqcL/1nhYb86JXjA2bpoK6NkaHqQuZXF9ind8jOhH4vUJin1aTgMgF1To0L4K6glCIkj5UUfWHIFRc1N7Dv4JhelEst1P0Ou9xWxdR/pPGj6ijuHFETgUws6KcF4keeCG3qy9ZOdcMjmkuo38CNfThKg/3dixBspKNqGEK4AJa+LkEuE4pz/4iKlrGm3ioUdE9FKwjQSVZK9lwMVSO0LIfnodrBsQ7IUB+mUUB6JYVV46FesuGcv3X5swnKHoROt1x3Up2aedpYvv7ZUdmZnIQNLrnzVQH9pAqQUrxMrKqsYuI/HRDuCj93kqpuwtEYXBWEpySUxF1+tm9SFW5ryOmO+0mRR1Xb7b1ancKRoieLK4atnM/drSuc7zAIzqUzdxQOj8e1/e8L8mcb/cXMjgzwMjH4AIeI6/TWwNF5gYlqyei26PAEbCa/gTRS4fqiHZjCZ7EUHmfi77JXTQKu2esDV5LjtIO/KstEA1sD/K2mFkBYtDbuWlvdKRejTAdxkL/C0PIA8moYX+s/DYwtehFpFK+Es7ZO6KUlUs8WhC3XsCx7h8dwH7PS9cwp0rgEKfn5XDgVMcGXYPAoRVVDSTPbZaRjf/jq6b14DdTW7GgCfr7kkI92OJgF+7aYRb7ytpSzngmwEnVmRztPo3Lb2p7JGZuccIs1I=
